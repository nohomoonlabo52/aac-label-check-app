<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase æ¥ç¶šãƒ†ã‚¹ãƒˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="status-card" class="p-8 bg-white rounded-lg shadow-xl text-center">
        <h1 class="text-2xl font-bold mb-4">Firebase æ¥ç¶šãƒ†ã‚¹ãƒˆ</h1>
        <div id="status-message" class="text-lg font-medium">
            <p>æ¥ç¶šã‚’è©¦ã¿ã¦ã„ã¾ã™...</p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const statusMessage = document.getElementById('status-message');
        const statusCard = document.getElementById('status-card');

        try {
            // â–¼â–¼â–¼â–¼â–¼ ã“ã“ã«ã€ãƒ†ã‚¹ãƒˆç”¨ã€‘ã® firebaseConfig ã‚’ç›´æ¥è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ â–¼â–¼â–¼â–¼â–¼
            const firebaseConfig = {
                apiKey: "AIzaSyAKbZLddDrKAyfJ2Q_NbTJQYW7Z7mHS8co",
                authDomain: "aac-label-check-app-dev.firebaseapp.com",
                projectId: "aac-label-check-app-dev",
                storageBucket: "aac-label-check-app-dev.firebasestorage.app",
                messagingSenderId: "483154552374",
                appId: "1:483154552374:web:00c11a23d53030d19e5a97"
            };
            // â–²â–²â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–²â–²â–²

            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);

            statusMessage.innerHTML = '<p class="text-blue-600">Firebaseã®åˆæœŸåŒ–ã«æˆåŠŸã—ã¾ã—ãŸã€‚</p><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>';

            // "products"ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚Œã‚‹ã‹ãƒ†ã‚¹ãƒˆ
            await getDocs(collection(db, "products"));

            statusCard.classList.remove('bg-white');
            statusCard.classList.add('bg-green-100', 'border', 'border-green-400');
            statusMessage.innerHTML = '<p class="text-2xl font-bold text-green-700">ğŸ‰ æ¥ç¶šæˆåŠŸï¼</p><p class="mt-2 text-gray-600">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æ­£å¸¸ã«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚Œã¾ã—ãŸã€‚</p>';

        } catch (e) {
            console.error("ãƒ†ã‚¹ãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", e);
            statusCard.classList.remove('bg-white');
            statusCard.classList.add('bg-red-100', 'border', 'border-red-400');
            statusMessage.innerHTML = `<p class="text-2xl font-bold text-red-700">âŒ æ¥ç¶šå¤±æ•—</p><p class="mt-2 text-gray-600">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚è©³ç´°ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p><p class="mt-4 text-left text-sm bg-gray-100 p-2 rounded">${e.message}</p>`;
        }
    </script>
</body>
</html>